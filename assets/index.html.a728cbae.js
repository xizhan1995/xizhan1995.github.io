import{r as l,o as t,c as p,a,b as n,w as r,F as o,d as e,e as c}from"./app.11a37516.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const d={},m=a("h1",{id:"_2019\u5E748\u67089\u65E5",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_2019\u5E748\u67089\u65E5","aria-hidden":"true"},"#"),e(" 2019\u5E748\u67089\u65E5")],-1),h=a("h2",{id:"\u7B14\u8BB0\u94FE\u63A5",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#\u7B14\u8BB0\u94FE\u63A5","aria-hidden":"true"},"#"),e(" \u7B14\u8BB0\u94FE\u63A5")],-1),k=e("note-make-\u624B\u518C"),b=a("hr",null,null,-1),g={href:"https://www.gnu.org/software/make/manual/make.html",target:"_blank",rel:"noopener noreferrer"},f=e("GNU make"),v={href:"http://www.ruanyifeng.com/blog/2015/02/make.html",target:"_blank",rel:"noopener noreferrer"},_=e("Make \u547D\u4EE4\u6559\u7A0B - \u962E\u4E00\u5CF0\u7684\u7F51\u7EDC\u65E5\u5FD7"),w=a("li",null,[a("p",null,"implicit target")],-1),x=e("phony target "),y={href:"https://www.gnu.org/software/make/manual/make.html#Phony-Targets",target:"_blank",rel:"noopener noreferrer"},M=e("4.6 Phony Targets"),E=a("li",null,[a("p",null,"empty target 4.8 Empty Target Files to Record Events https://www.gnu.org/software/make/manual/make.html#Empty-Targets")],-1),$=a("li",null,[a("p",null,"stardard target https://www.gnu.org/software/make/manual/make.html#Standard-Targets")],-1),F=e("\u6807\u51C6\u53D8\u91CF "),q={href:"https://www.gnu.org/software/make/manual/make.html#Implicit-Variables",target:"_blank",rel:"noopener noreferrer"},I=e("10.3 Variables Used by Implicit Rules"),L=a("li",null,[a("p",null,"\u7EED\u884C")],-1),T=a("li",null,[a("p",null,"pattern rules (see Defining and Redefining Pattern Rules).")],-1),R=a("li",null,[a("p",null,"explicit rule")],-1),N=a("li",null,[a("p",null,"implicit rule")],-1),S=a("li",null,[a("p",null,"double-colon rule")],-1),A=a("li",null,[a("p",null,"static-pattern rule")],-1),P=c(`<p>make\u5DE5\u5177\u7684\u5404\u79CD\u8BED\u6CD5\u7279\u6027\u663E\u7136\u662F\u4ECE\u5B9E\u8DF5\u4E2D\u603B\u7ED3\u51FA\u6765\u7684\u3002</p><ul><li>\u666E\u901A\u76EE\u6807\uFF1A\u628A\u6E90\u6587\u4EF6\u7F16\u8BD1\u6210\u7A0B\u5E8F</li><li>\u4F2A\u76EE\u6807\uFF1A\u6267\u884C\u6307\u5B9A\u52A8\u4F5C\uFF0C\u6BD4\u5982 clean</li><li>% \u901A\u914D\u7B26\u3001\u81EA\u52A8\u53D8\u91CF\uFF1A\u5927\u6279\u91CD\u590D\u89C4\u5219\uFF1A%.c -&gt; %.o \u7684\u7F16\u8BD1\u89C4\u5219\u662F\u5B8C\u5168\u7C7B\u4F3C\u7684\u3002Q. % \u53EB\u4EC0\u4E48\uFF1F\u5305\u542B % \u7684\u89C4\u5219\u53EB\u4EC0\u4E48\uFF1F</li><li>\u5185\u7F6E\u89C4\u5219\uFF1AC \u8BED\u8A00\u7F16\u7A0B\u89C4\u5219 %.c -&gt; %.o \u592A\u5E38\u7528\u4E86\uFF0C\u5185\u7F6E</li><li>\u53D8\u91CF\uFF1A\u91CD\u590D\u3001\u516C\u7528\u7684\u6587\u672C</li><li>\u5229\u7528 gcc \u81EA\u52A8\u8BA1\u7B97\u5934\u6587\u4EF6\u4F9D\u8D56</li><li>\u2026\u2026</li></ul><p>\u8BFB\u4E00\u8BFB https://www.cnblogs.com/lotgu/p/5936465.html</p><h2 id="\u7B80\u8981\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u7B80\u8981\u4ECB\u7ECD" aria-hidden="true">#</a> \u7B80\u8981\u4ECB\u7ECD</h2><p>Make\u662F\u6700\u5E38\u7528\u7684\u6784\u5EFA\u5DE5\u5177\uFF0C\u8BDE\u751F\u4E8E1977\u5E74\uFF0C\u4E3B\u8981\u7528\u4E8EC\u8BED\u8A00\u7684\u9879\u76EE\u3002 \u4E5F\u53EF\u4EE5\u7528\u4E8E\u5176\u5B83\u5730\u65B9\u3002</p><h2 id="hello-world-\u76EE\u6807-makefile\u6587\u4EF6\u8DEF\u5F84" tabindex="-1"><a class="header-anchor" href="#hello-world-\u76EE\u6807-makefile\u6587\u4EF6\u8DEF\u5F84" aria-hidden="true">#</a> hello world &amp; \u76EE\u6807 &amp; makefile\u6587\u4EF6\u8DEF\u5F84</h2><p>\u4F7F\u7528 make \u5DE5\u5177\u5206\u4E3A\u4E24\u6B65\uFF1A</p><ol><li>\u7F16\u5199 makefile</li><li>\u8C03\u7528 make \u547D\u4EE4</li></ol><p>\u5728\u65B0\u76EE\u5F55\u4E0B\u521B\u5EFA\u540D\u4E3A Makefile \u7684\u6587\u4EF6\uFF0C\u5199\u5165\u5982\u4E0B\u5185\u5BB9</p><div class="language-Makefile ext-Makefile line-numbers-mode"><pre class="language-Makefile"><code># File: Makefile
hello:
    echo hello, world
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6CE8\uFF1Aecho hello, world \u7684\u524D\u9762\u5FC5\u987B\u662F\u4E00\u4E2A tab\uFF0C\u4E0D\u80FD\u662F\u7A7A\u683C\u3002</p><p>\u6267\u884C\u547D\u4EE4 <code>make hello</code>\u3002\u8F93\u51FA\u7ED3\u679C\u5982\u4E0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> hello
<span class="token builtin class-name">echo</span> hello, world
hello, world
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>make \u547D\u4EE4\u9ED8\u8BA4\u4F7F\u7528 <code>Makefile</code> \u4F5C\u4E3A\u6570\u636E\u5E93\u6587\u4EF6\u540D\uFF0C\u53EF\u4EE5\u7528 -f \u6307\u5B9A\u81EA\u5B9A\u4E49\u7684 makefile \u6587\u4EF6\u3002</li><li>make \u547D\u4EE4\u9ED8\u8BA4\u53D6 Makefile \u7684\u7B2C\u4E00\u4E2A target\uFF08\u4E0D\u7B97\u4EE5\u53E5\u70B9\u5F00\u5934\u7684\u76EE\u6807\uFF09\u4F5C\u4E3A\u76EE\u6807\u3002</li></ul><p>\u6240\u4EE5\u5728\u8FD9\u4E2A\u4F8B\u5B50\u4E2D\uFF0C\u5982\u4E0B\u547D\u4EE4\u662F\u5B8C\u5168\u7B49\u4EF7\u7684</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u5B8C\u6574\u683C\u5F0F\u662F\u6307\u5B9A makefile \u548C\u76EE\u6807</span>
<span class="token function">make</span> -f Makefile hello
<span class="token comment"># \u800C Makefile \u662F\u9ED8\u8BA4\u6587\u4EF6\u540D\uFF0C\u53EF\u4EE5\u7701\u7565</span>
<span class="token function">make</span> hello
<span class="token comment"># \u53E6\u4E00\u65B9\u9762\uFF0Chello \u662F\u7B2C\u4E00\u4E2A target\uFF0C\u4E5F\u53EF\u4EE5\u7701\u7565</span>
<span class="token function">make</span> -f Makefile
<span class="token comment"># \u5F53\u7136\u53EF\u4EE5\u540C\u65F6\u7701\u7565</span>
<span class="token function">make</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="hello-world-2-make-\u66F4\u65B0\u76EE\u6807\u7684\u903B\u8F91" tabindex="-1"><a class="header-anchor" href="#hello-world-2-make-\u66F4\u65B0\u76EE\u6807\u7684\u903B\u8F91" aria-hidden="true">#</a> hello world 2 &amp; make \u66F4\u65B0\u76EE\u6807\u7684\u903B\u8F91</h2><p>\u5B9E\u9645\u4E0A\uFF0Cmake \u6700\u521D\u662F\u4E3A\u4E86\u7F16\u8BD1 C \u8BED\u8A00\u9879\u76EE\u800C\u6784\u5EFA\u7684\u3002</p><p>\u4E0B\u9762\u7684\u4F8B\u5B50 \u7528 make \u7F16\u8BD1 hello world \u7A0B\u5E8F\u3002</p><div class="language-c ext-c line-numbers-mode"><pre class="language-c"><code><span class="token comment">// File: hello.c</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello, world\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-Makefile ext-Makefile line-numbers-mode"><pre class="language-Makefile"><code>hello: hello.c
    gcc hello.c -o hello
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u6CE8: gcc hello.c -o hello \u7684\u524D\u9762\u5FC5\u987B\u662F\u4E00\u4E2A tab\uFF0C\u4E0D\u80FD\u662F\u7A7A\u683C\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">make</span> hello
./hello
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u8F93\u51FA\u7ED3\u679C\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ <span class="token function">make</span> hello
gcc hello.c -o hello

$ <span class="token function">ls</span>
hello  hello.c  Makefile

$ ./hello
hello, world
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Make \u5DE5\u5177\u5E94\u5BF9\u7684\u9884\u671F\u5DE5\u4F5C\u6D41\u7A0B/\u5DE5\u4F5C\u60C5\u666F\u662F\u8FD9\u6837\u7684\uFF1A</p><ul><li>\u6BCF\u6B21\u7F16\u8F91\u5B8C hello.c \u4E4B\u540E\uFF0C\u518D\u6B21\u6267\u884C make \u5373\u53EF\u91CD\u65B0\u7F16\u8BD1\u6587\u4EF6</li><li>\u5982\u679C\u6267\u884C\u5B8C make \u540E\uFF0C\u6CA1\u6709\u7F16\u8F91 hello.c \u76F4\u63A5\u6267\u884C make\uFF0Cmake \u4E0D\u4F1A\u91CD\u590D\u7F16\u8BD1\uFF0C \u56E0\u4E3A make \u4F1A\u68C0\u67E5\u5230\u4E0A\u6B21\u7F16\u8BD1\u540E\u6E90\u6587\u4EF6\u5E76\u6CA1\u6709\u53D8\u5316\uFF0C\u6240\u4EE5 make \u8BA4\u4E3A\u4E0D\u9700\u8981\u91CD\u65B0\u7F16\u8BD1\u3002</li><li>make \u547D\u4EE4\u901A\u8FC7\u6BD4\u8F83\u6E90\u6587\u4EF6\u548C\u76EE\u6807\u6587\u4EF6\u7684\u4FEE\u6539\u65F6\u95F4\u5224\u65AD\u662F\u5426\u9700\u8981\u6784\u5EFA\u76EE\u6807\u3002 ps\uFF1A\u65F6\u95F4\u6233\u53EF\u4EE5\u4F2A\u9020\uFF0C\u4E0D\u662F\u767E\u5206\u4E4B\u767E\u53EF\u9760\uFF0C\u4F46\u662F\u6548\u7387\u5FEB\u3002</li><li>make \u547D\u4EE4\u63D0\u4F9B -B \u9009\u9879\uFF0C\u65E0\u6761\u4EF6\u91CD\u65B0\u6784\u5EFA\u3002 <blockquote><p>-B, --always-make Unconditionally make all targets.</p></blockquote></li></ul><h3 id="\u9644-\u5FEB\u901F\u521B\u5EFA-hello-c-\u548C-makefile" tabindex="-1"><a class="header-anchor" href="#\u9644-\u5FEB\u901F\u521B\u5EFA-hello-c-\u548C-makefile" aria-hidden="true">#</a> \u9644\uFF1A\u5FEB\u901F\u521B\u5EFA hello.c \u548C Makefile</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;</span> hello.c <span class="token operator">&lt;&lt;</span><span class="token string">EOF
#include&lt;stdio.h&gt;
int main(){
    printf(&quot;hello, world<span class="token entity" title="\\n">\\n</span>&quot;);
    return 0;
}
EOF</span>

<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF<span class="token bash punctuation"> <span class="token operator">|</span> <span class="token function">sed</span> -E <span class="token string">&#39;s/^\\s{4}/\\t/&#39;</span> <span class="token operator">&gt;</span> Makefile</span>

hello: hello.c
    gcc hello.c -o hello
EOF</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="makefile-\u8BED\u6CD5" tabindex="-1"><a class="header-anchor" href="#makefile-\u8BED\u6CD5" aria-hidden="true">#</a> makefile \u8BED\u6CD5</h2><p>makefile \u5305\u542B\u4E94\u79CD\u8BED\u6CD5\u5143\u7D20\uFF1A</p><ul><li>explicit rules</li><li>implicit rules</li><li>variable definitions</li><li>directives</li><li>comments</li></ul><p>\u8BF4\u89C4\u5219\u548C\u53D8\u91CF\u3002</p><p>\u6CE8\uFF1A\u8FD9\u91CC\u5217\u51FA\u7684\u53EA\u662F\u5E38\u7528\u7684\u89C4\u5219\uFF0C\u6BCF\u6761\u89C4\u5219\u4ECB\u7ECD\u4E00\u90E8\u5206\uFF0C\u5B8C\u6574\u7684\u89C4\u5219\u5217\u8868\u548C\u6BCF\u6761\u89C4\u5219\u7684\u5B8C\u6574\u903B\u8F91\uFF0C\u53C2\u8003gnu\u624B\u518C\u7B14\u8BB0\u3002</p><h3 id="\u89C4\u5219-\u5F85\u7EED" tabindex="-1"><a class="header-anchor" href="#\u89C4\u5219-\u5F85\u7EED" aria-hidden="true">#</a> \u89C4\u5219 \u5F85\u7EED...</h3><p>makefile \u7684\u57FA\u672C\u7EC4\u6210\u5143\u7D20\u662F rule\uFF08\u89C4\u5219\uFF09\uFF0Crule \u8BF4\u660E\u4F55\u65F6\u4EE5\u53CA\u5982\u4F55\u66F4\u65B0target\u3002</p><p>\u89C4\u5219\u7684\u6784\u6210\u5F62\u5F0F\u5982\u4E0B\uFF1A</p><div class="language-make ext-make line-numbers-mode"><pre class="language-make"><code>target \u2026 : prerequisites \u2026
        recipe
        \u2026
        \u2026
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u4E00\u4E2A rule \u7531 targte\u3001prerequisite\u3001recipe \u4E09\u90E8\u5206\u6784\u6210\uFF0Ctarget \u662F\u5FC5\u987B\u7684\uFF0Cprerequisite \u548C recipe \u53EF\u4EE5\u7701\u7565\u5176\u4E00\uFF0C\u4F46\u4E0D\u8BB8\u540C\u65F6\u7701\u7565\u3002</p><ul><li>target \u5206\u4E3A\u4E24\u79CD\uFF0C\u666E\u901A target \u5BF9\u5E94\u751F\u6210\u7684\u6587\u4EF6\uFF0Cphony target\uFF08\u4F2A\u76EE\u6807\uFF09\u6307\u5B9A\u8981\u6267\u884C\u7684\u52A8\u4F5C\u7684\u540D\u79F0\u3002</li><li>\u89C4\u5219 recipe\u6BCF\u4E00\u884C\u90FD\u5F97\u4EE5 tab \u5B57\u7B26\u5F00\u5934\u3002\u4E5F\u53EF\u4EE5\u6539\u4E3A\u5176\u5B83\u5B57\u7B26\u5F00\u5934\uFF0C\u8BBE\u7F6E .RECIPEPREFIX \u53D8\u91CF\u5373\u53EF\u3002</li><li>\u56DE\u663E @ -s --silent .SILIENT</li><li>SHELL</li></ul><h3 id="\u6298\u884C-\u5F85\u7EED" tabindex="-1"><a class="header-anchor" href="#\u6298\u884C-\u5F85\u7EED" aria-hidden="true">#</a> \u6298\u884C \u5F85\u7EED...</h3><p>Makefile \u4E2D\uFF0C\u6362\u884C\u7B26\u6807\u5FD7\u8BED\u53E5\u7684\u7ED3\u675F\u3002\u4E0D\u9650\u5236\u884C\u7684\u957F\u5EA6\u3002</p><p>\u884C\u672B\u7684\u53CD\u659C\u6760\u53EF\u4EE5\u7EED\u884C\u3002 \u7EED\u884C\u672C\u8EAB\u548C\u7EED\u884C\u524D\u540E\u76F8\u90BB\u7684\u7A7A\u767D\u5B57\u7B26\u4F1A\u88AB\u66FF\u6362\u4E3A\u5355\u4E2A\u7A7A\u683C\u3002 \u591A\u4E2A\u8FDE\u7EED\u7684\u7EED\u884C\u4F1A\u66FF\u6362\u4E3A\u4E00\u4E2A\u7A7A\u683C\uFF0C\u800C\u4E0D\u662F\u591A\u4E2A\u7A7A\u683C\u3002</p><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code>foo<span class="token operator">=</span>a \\
  \\
  b
<span class="token comment"># \u7B49\u4EF7\u4E8E</span>
foo<span class="token operator">=</span>a b
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>recipe \u4E2D\u7684\u6298\u884C\u5904\u7406\u65B9\u5F0F\u4E0D\u540C\u3002</p><h3 id="\u5305\u542B\u5176\u5B83\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5305\u542B\u5176\u5B83\u6587\u4EF6" aria-hidden="true">#</a> \u5305\u542B\u5176\u5B83\u6587\u4EF6</h3><ul><li>include \u6307\u4EE4\u7528\u4E8E\u5305\u542B\u5176\u4ED6makeilfe\u6587\u4EF6\u3002</li><li>make \u5904\u7406\u5230include\u6307\u4EE4\u7684\u65F6\u5019\u4F1A\u6682\u505C\u5904\u7406\u5F53\u524Dmakefile\uFF0C\u8F6C\u800C\u8BFB\u53D6include\u6307\u5B9A\u7684makefile\uFF0C\u5F85\u5904\u7406\u5B8C\u6210\u540E\uFF0C\u4ECEinclude\u6307\u4EE4\u5904\u7EE7\u7EED\u5904\u7406\u5F53\u524D makefile\u3002</li><li>\u5305\u542B\u6587\u4EF6\u7F3A\u5931\u4E14\u65E0\u6CD5\u6784\u5EFA\u65F6\uFF0Cmake \u547D\u4EE4\u4F1A\u62A5\u9519\u9000\u51FA\uFF1B\u7528 -include \u4EE3\u66FF include\uFF0Cmake \u5C31\u4F1A\u5FFD\u7565\u8FD9\u9519\u8BEF\u3002</li></ul><h3 id="misc" tabindex="-1"><a class="header-anchor" href="#misc" aria-hidden="true">#</a> misc</h3><p>\u6BCF\u4E2A target \u53EA\u53EF\u4EE5\u6709\u4E00\u4E2A recipe\uFF0C\u5982\u679C\u627E\u5230\u4E86\u591A\u4E2A\uFF0C\u8981\u4E48\u62A5\u9519\uFF0C\u8981\u4E48\u540E\u9762\u7684\u8986\u76D6\u524D\u9762\u7684\u3002</p><h2 id="\u603B\u7ED3-make-\u542F\u52A8\u8FC7\u7A0B-\u7B80\u5316" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3-make-\u542F\u52A8\u8FC7\u7A0B-\u7B80\u5316" aria-hidden="true">#</a> \u603B\u7ED3\uFF1Amake \u542F\u52A8\u8FC7\u7A0B\uFF08\u7B80\u5316\uFF09</h2><p>2021-12-22</p><ul><li><p>\u8F7D\u5165\u5185\u7F6E\u6570\u636E\u5E93</p></li><li><p>\u8F7D\u5165 MAKEFILES \u53D8\u91CF\u6307\u5B9A\u7684 makefile: \u8BBE\u7F6E\u4E86\u73AF\u5883\u53D8\u91CF\u624D\u4F1A\u8F7D\u5165\uFF0C\u8FD9\u91CC\u6709\u627E\u4E0D\u5230\u7684\u6587\u4EF6\u4E0D\u7B97\u9519\u8BEF</p></li><li><p>-f \u548C\u9ED8\u8BA4\u6587\u4EF6</p><ul><li>\u5982\u679C\u6307\u5B9A\u4E86 -f\uFF0C\u5C31\u4E0D\u8003\u8651\u9ED8\u8BA4\u6587\u4EF6\uFF1B\u5982\u679C\u672A\u6307\u5B9A -f \u4F1A\u5C1D\u8BD5\u9ED8\u8BA4\u6587\u4EF6</li><li>\u9ED8\u8BA4\u6587\u4EF6\u53EF\u4EE5\u7C7B\u6BD4 -include \u6307\u4EE4</li></ul></li><li><p>remake\uFF0C\u76F4\u5230\u8FBE\u5230\u7A33\u5B9A</p></li></ul><p>\u6DF1\u6316\u4E0B\u53BB\u6709\u66F4\u591A\u7EC6\u8282\u3002\u6682\u65F6\u4E86\u89E3\u5230\u8FD9\u4E9B\u5C31\u591F\u4E86\u3002</p><h2 id="\u672F\u8BED" tabindex="-1"><a class="header-anchor" href="#\u672F\u8BED" aria-hidden="true">#</a> \u672F\u8BED</h2><ul><li><p><code>Double-colon rules</code> are explicit rules written with \u2018::\u2019 instead of \u2018:\u2019 after the target names.</p></li><li><p>goal\uFF1AThe <code>goals</code> are the targets that make should strive ultimately to update.</p></li><li><p>makefile\uFF1AThe information that tells make how to recompile a system comes from reading a data base called the <code>makefile</code> ch03</p></li><li><p>normal rules: ??</p></li><li><p>phony target:</p><ul><li>Targets that do not refer to files but are just actions are called <code>phony targets</code>.</li><li>A phony target is one that is not really the name of a file; rather it is just a name for a recipe to be executed when you make an explicit request.</li></ul></li><li><p>phsical line: We will refer to \u201Cphysical lines\u201D as a single line ending with a newline (regardless of whether it is escaped) and a \u201Clogical line\u201D being a complete statement including all escaped newlines up to the first non-escaped newline.</p></li><li><p>implicit rule:</p></li><li><p>static pattern rules: Static pattern rules are rules which specify multiple targets and construct the prerequisite names for each target based on the target name.</p></li><li><p>variable/macro: A <code>variable</code> is a name defined in a makefile to represent a string of text, called the variable\u2019s value. In some other versions of make, variables are called macros.</p></li></ul><h2 id="\u6700\u4F73\u5B9E\u8DF5" tabindex="-1"><a class="header-anchor" href="#\u6700\u4F73\u5B9E\u8DF5" aria-hidden="true">#</a> \u6700\u4F73\u5B9E\u8DF5</h2><h3 id="\u5B9E\u9645\u4E2D\u7684-clean-\u89C4\u5219\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u9645\u4E2D\u7684-clean-\u89C4\u5219\u793A\u4F8B" aria-hidden="true">#</a> \u5B9E\u9645\u4E2D\u7684 clean \u89C4\u5219\u793A\u4F8B</h3><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token builtin">.PHONY</span><span class="token punctuation">:</span> clean
<span class="token symbol">clean</span><span class="token punctuation">:</span>
        -rm edit <span class="token variable">$</span><span class="token punctuation">(</span>objects<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u4E24\u4E2A\u8981\u70B9\uFF1A</p><ol><li>.PHONY</li><li>-rm \u800C\u4E0D\u662F rm\u3002 ps\uFF1Arm -f \u53EF\u4EE5\u4EE3\u66FF -rm\u3002</li></ol><h2 id="list-\u5217\u51FA\u6240\u6709target" tabindex="-1"><a class="header-anchor" href="#list-\u5217\u51FA\u6240\u6709target" aria-hidden="true">#</a> list\uFF1A\u5217\u51FA\u6240\u6709target</h2><p>2021-12-22</p><p>https://www.itranslater.com/qa/details/2128087309269599232</p><p>GNU Make \u6CA1\u6709\u5185\u7F6E\u6B64\u9879\u529F\u80FD\u3002\u53EF\u4EE5\u901A\u8FC7\u6DFB\u52A0\u5982\u4E0B\u89C4\u5219\u5B9E\u73B0\u6B64\u76EE\u7684</p><div class="language-makefile ext-makefile line-numbers-mode"><pre class="language-makefile"><code><span class="token builtin">.PHONY</span><span class="token punctuation">:</span> list
<span class="token symbol">list</span><span class="token punctuation">:</span>
<span class="token symbol">        @<span class="token variable">$</span>(MAKE) -pRrq -f <span class="token variable">$</span>(lastword <span class="token variable">$</span>(MAKEFILE_LIST))</span> <span class="token punctuation">:</span> 2&gt;/dev/null <span class="token operator">|</span> awk -v RS<span class="token operator">=</span> -F<span class="token punctuation">:</span> <span class="token string">&#39;/^# File/,/^# Finished Make data base/ {if ($$1 !~ &quot;^[#.]&quot;) {print $$1}}&#39;</span> <span class="token operator">|</span> sort <span class="token operator">|</span> egrep -v -e <span class="token string">&#39;^[^[:alnum:]]&#39;</span> -e <span class="token string">&#39;^$@$$&#39;</span> <span class="token operator">|</span> xargs

<span class="token symbol">list</span><span class="token punctuation">:</span>
        <span class="token operator">@</span>LANG<span class="token operator">=</span>en_US.UTF-8 <span class="token variable">$</span><span class="token punctuation">(</span>MAKE<span class="token punctuation">)</span> -pRrq -f <span class="token variable">$</span><span class="token punctuation">(</span><span class="token keyword">lastword</span> <span class="token variable">$</span><span class="token punctuation">(</span>MAKEFILE_LIST<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> 2&gt;/dev/null <span class="token operator">|</span> awk -v RS<span class="token operator">=</span> -F<span class="token punctuation">:</span> <span class="token string">&#39;/^# File/,/^# Finished Make data base/ {if ($$1 !~ &quot;^[#.]&quot;) {print $$1}}&#39;</span> <span class="token operator">|</span> sort <span class="token operator">|</span> egrep -v -e <span class="token string">&#39;^[^[:alnum:]]&#39;</span> -e <span class="token string">&#39;^$@$$&#39;</span> <span class="token operator">|</span> xargs
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u8FD9\u6761\u89C4\u5219\u5B9E\u9645\u8C03\u7528 make -p \u547D\u4EE4\u83B7\u53D6\u6240\u6709\u76EE\u6807\u3002</p><p>\u6CE8\uFF1A\u91CD\u8981\u8BF4\u660E\uFF1A\u7C98\u8D34\u6B64\u5185\u5BB9\u65F6\uFF0C\u8BF7\u786E\u4FDD\u6700\u540E\u4E00\u884C\u7F29\u8FDB1\u4E2A\u5B9E\u9645\u7684tab char\u3002 \uFF08\u7A7A\u683C\u4E0D\u8D77\u4F5C\u7528\uFF09\u3002</p>`,67);function C(O,B){const i=l("RouterLink"),s=l("ExternalLinkIcon");return t(),p(o,null,[m,h,a("ul",null,[a("li",null,[n(i,{to:"/make/note-make-%E6%89%8B%E5%86%8C.html"},{default:r(()=>[k]),_:1})])]),b,a("p",null,[a("a",g,[f,n(s)]),a("a",v,[_,n(s)])]),a("ul",null,[w,a("li",null,[a("p",null,[x,a("a",y,[M,n(s)])])]),E,$,a("li",null,[a("p",null,[F,a("a",q,[I,n(s)])])]),L,T,R,N,S,A]),P],64)}var j=u(d,[["render",C]]);export{j as default};
